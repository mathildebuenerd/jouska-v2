webpackJsonp([4],{

/***/ 127:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return DashboardPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(24);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


/**
 * Generated class for the DashboardPage page.
 *
 * See https://ionicframework.com/docs/components/#navigation for more info on
 * Ionic pages and navigation.
 */
var DashboardPage = /** @class */ (function () {
    function DashboardPage(navCtrl, navParams) {
        this.navCtrl = navCtrl;
        this.navParams = navParams;
    }
    DashboardPage.prototype.ionViewDidLoad = function () {
        console.log('ionViewDidLoad DashboardPage');
    };
    DashboardPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["m" /* Component */])({
            selector: 'page-dashboard',template:/*ion-inline-start:"H:\WebstormProjects\jouska-v2\src\pages\dashboard\dashboard.html"*/'<ion-header>\n\n  <ion-navbar>\n    <ion-title>Dashboard</ion-title>\n  </ion-navbar>\n\n</ion-header>\n\n\n<ion-content padding>\n\n</ion-content>\n'/*ion-inline-end:"H:\WebstormProjects\jouska-v2\src\pages\dashboard\dashboard.html"*/,
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["e" /* NavController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["f" /* NavParams */]])
    ], DashboardPage);
    return DashboardPage;
}());

//# sourceMappingURL=dashboard.js.map

/***/ }),

/***/ 128:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MessagesPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(24);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


/**
 * Generated class for the MessagesPage page.
 *
 * See https://ionicframework.com/docs/components/#navigation for more info on
 * Ionic pages and navigation.
 */
var MessagesPage = /** @class */ (function () {
    function MessagesPage(navCtrl, navParams) {
        this.navCtrl = navCtrl;
        this.navParams = navParams;
    }
    MessagesPage.prototype.ionViewDidLoad = function () {
        console.log('ionViewDidLoad MessagesPage');
    };
    MessagesPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["m" /* Component */])({
            selector: 'page-messages',template:/*ion-inline-start:"H:\WebstormProjects\jouska-v2\src\pages\messages\messages.html"*/'<!--\n  Generated template for the MessagesPage page.\n\n  See http://ionicframework.com/docs/components/#navigation for more info on\n  Ionic pages and navigation.\n-->\n<ion-header>\n\n  <ion-navbar>\n    <ion-title>Messages</ion-title>\n  </ion-navbar>\n\n</ion-header>\n\n\n<ion-content padding>\n\n</ion-content>\n'/*ion-inline-end:"H:\WebstormProjects\jouska-v2\src\pages\messages\messages.html"*/,
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["e" /* NavController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["f" /* NavParams */]])
    ], MessagesPage);
    return MessagesPage;
}());

//# sourceMappingURL=messages.js.map

/***/ }),

/***/ 129:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SettingsPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(24);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


/**
 * Generated class for the SettingsPage page.
 *
 * See https://ionicframework.com/docs/components/#navigation for more info on
 * Ionic pages and navigation.
 */
var SettingsPage = /** @class */ (function () {
    function SettingsPage(navCtrl, navParams) {
        this.navCtrl = navCtrl;
        this.navParams = navParams;
    }
    SettingsPage.prototype.ionViewDidLoad = function () {
        console.log('ionViewDidLoad SettingsPage');
    };
    SettingsPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["m" /* Component */])({
            selector: 'page-settings',template:/*ion-inline-start:"H:\WebstormProjects\jouska-v2\src\pages\settings\settings.html"*/'<!--\n  Generated template for the SettingsPage page.\n\n  See http://ionicframework.com/docs/components/#navigation for more info on\n  Ionic pages and navigation.\n-->\n<ion-header>\n\n  <ion-navbar>\n    <ion-title>Settings</ion-title>\n  </ion-navbar>\n\n</ion-header>\n\n\n<ion-content class="outer-content">\n  <ion-list>\n    <ion-list-header>Positivité requise pour l\'envoi d\'un message</ion-list-header>\n    <ion-item>\n      <ion-range color="blue" min="0" max="100" pin="true">\n        <ion-icon range-left name=""></ion-icon>\n        <ion-icon range-right name=""></ion-icon>\n      </ion-range>\n    </ion-item>\n  </ion-list>\n\n  <ion-list>\n    <ion-list-header>Notifications</ion-list-header>\n    <ion-item>\n      <ion-label>Jour de la semaine le plus positif</ion-label>\n      <ion-toggle checked="true"></ion-toggle>\n    </ion-item>\n    <ion-item>\n      <ion-label>Heure de la journée la plus positive</ion-label>\n      <ion-toggle checked="true"></ion-toggle>\n    </ion-item>\n  </ion-list>\n\n\n</ion-content>\n'/*ion-inline-end:"H:\WebstormProjects\jouska-v2\src\pages\settings\settings.html"*/,
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["e" /* NavController */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["f" /* NavParams */]])
    ], SettingsPage);
    return SettingsPage;
}());

//# sourceMappingURL=settings.js.map

/***/ }),

/***/ 130:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return WritingPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(24);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__services_writingAnalysis_service__ = __webpack_require__(131);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



/**
 * Generated class for the WritingPage page.
 *
 * See https://ionicframework.com/docs/components/#navigation for more info on
 * Ionic pages and navigation.
 */
var WritingPage = /** @class */ (function () {
    function WritingPage(navCtrl, navParams, writingAnalysis) {
        this.navCtrl = navCtrl;
        this.navParams = navParams;
        this.writingAnalysis = writingAnalysis;
        console.log("construct Writing page");
    }
    WritingPage.prototype.ionViewDidLoad = function () {
        var _this = this;
        console.log('ionViewDidLoad WritingPage');
        // We get the textarea where the message is written
        var textArea = document.querySelector('#message-area textarea');
        // As keypress doesn't work with a android keyboard, we use keyup
        textArea.addEventListener("keyup", function () {
            _this.writingAnalysis.analyzeText(_this.messageInput);
        });
    };
    WritingPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["m" /* Component */])({
            selector: 'page-writing',template:/*ion-inline-start:"H:\WebstormProjects\jouska-v2\src\pages\writing\writing.html"*/'<!--\n  Generated template for the WritingPage page.\n\n  See http://ionicframework.com/docs/components/#navigation for more info on\n  Ionic pages and navigation.\n-->\n<ion-header>\n\n  <ion-navbar>\n    <ion-title>Nouveau message</ion-title>\n  </ion-navbar>\n\n</ion-header>\n\n\n<ion-content padding>\n  <ion-item>\n    <ion-label floating>Contact</ion-label>\n    <ion-input  type="text"></ion-input>\n  </ion-item>\n\n  <ion-item id="message-area">\n    <ion-label floating>Message</ion-label>\n    <ion-textarea type="textarea"\n                  [(ngModel)]="messageInput"></ion-textarea>\n  </ion-item>\n\n  <button id="send-message-button" ion-button type="submit">\n    <ion-icon name="send" padding-right></ion-icon>\n    Envoyer\n  </button>\n</ion-content>\n'/*ion-inline-end:"H:\WebstormProjects\jouska-v2\src\pages\writing\writing.html"*/,
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["e" /* NavController */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["f" /* NavParams */],
            __WEBPACK_IMPORTED_MODULE_2__services_writingAnalysis_service__["a" /* WritingAnalysisService */]])
    ], WritingPage);
    return WritingPage;
}());

//# sourceMappingURL=writing.js.map

/***/ }),

/***/ 131:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return WritingAnalysisService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__textAnalysis_service__ = __webpack_require__(66);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


// As this service also use the TextAnalysis service, we have to use @Injectable
var WritingAnalysisService = /** @class */ (function () {
    function WritingAnalysisService(textAnalysisService) {
        var _this = this;
        this.textAnalysisService = textAnalysisService;
        this.changeSidebar = function (barSelector, score) {
            // console.log(`bar selector`, barSelector);
            var sidebar = document.querySelector("#" + barSelector + " .fill");
            // console.log(`barselector:`, barSelector);
            sidebar.style.backgroundImage = "url(img/interface-components/jauges/jauge_" + score + ".png";
        };
        this.getColor = function (object, value) {
            if (value > 8) {
                value = 8;
            }
            else if (value < -8) {
                value = -8;
            }
            return Object.keys(object).find(function (key) { return object[key] === value; });
        };
        this.showFeedback = function (analysis, type) {
            console.log("showFeedback", "analysis", analysis, "type", type);
            var score = 0;
            var otherAnalysis = ["psychopathy", "conscientiousness", "openness"];
            if (type === "polarity" || type === "selfishness") {
                if (analysis['score'] !== undefined) {
                    score += analysis['score'];
                }
                else {
                    for (var object in analysis) {
                        // console.log(`score ${type}: ${analysis[object]['score']}`);
                        score += analysis[object]['score'];
                    }
                }
                // les analyses de la liste triad donnent directement le score
            }
            else if (otherAnalysis.indexOf(type) !== -1) {
                score = analysis;
            }
            // let color = this.getColor(this.colors, score);
            var scoreBar = _this.getSidebarNumber(score);
            _this.changeSidebar(type, scoreBar);
            // if (analysis["negative"].length > 0) {
            //     // this.animateNegativeWords(analysis["negative"]);
            // }
        };
        this.analyzeText = function (sentence, language) {
            if (language === void 0) { language = "en"; }
            console.log("analyzeText function");
            if (sentence !== undefined) {
                var polarity = _this.textAnalysisService.sentimentAnalysis(sentence, language);
                // this.showFeedback(polarity, "polarity");
                var selfish = _this.textAnalysisService.selfishnessAnalysis(sentence, language);
                // this.showFeedback(selfish, "selfishness");
                console.log("polarity", polarity);
                // Analyses en anglais
                // Pour ces analyses, on traduit en anglais avant d'analyser
                // D'abord on récupère uniquement les mots entiers
                var ignoreLastWord = new RegExp(/.+[ !?,.:"]/, 'gim');
                // const test = sentence.split(" ");
                // console.log(`test: `, test);
                var allWordsExceptLast = sentence.match(ignoreLastWord); // match renvoie un tableau de correspondances, mais avec la regex il n'est sensé renvoyer qu'un seul tableau
                // console.log(`allwordsexc`, allWordsExceptLast);
                var wordsToAnalyze = String(allWordsExceptLast);
                _this.tempSentences[1] = wordsToAnalyze;
                // Si ces deux valeurs sont différentes, c'est qu'il y a un mot de plus ou de moins
                if (_this.tempSentences[1] !== _this.tempSentences[0]) {
                    _this.tempSentences[0] = wordsToAnalyze;
                    console.log("wordsToAnalyze", wordsToAnalyze);
                }
            }
        };
        this.interpretAnalysis = function (type, analysis) {
            var analyses = {};
            var analysesDark = {
                "triad": {
                    "score": 0,
                    "negativeWords": [],
                    "positiveWords": []
                },
                "narcissism": {
                    "score": 0,
                    "negativeWords": [],
                    "positiveWords": []
                },
                "machiavellianism": {
                    "score": 0,
                    "negativeWords": [],
                    "positiveWords": []
                },
                "psychopathy": {
                    "score": 0,
                    "negativeWords": [],
                    "positiveWords": []
                },
            };
            var analysesBigfive = {
                "openness": {
                    "score": 0,
                    "negativeWords": [],
                    "positiveWords": []
                },
                "conscientiousness": {
                    "score": 0,
                    "negativeWords": [],
                    "positiveWords": []
                },
                "extraversion": {
                    "score": 0,
                    "negativeWords": [],
                    "positiveWords": []
                },
                "agreeableness": {
                    "score": 0,
                    "negativeWords": [],
                    "positiveWords": []
                },
                "neuroticism": {
                    "score": 0,
                    "negativeWords": [],
                    "positiveWords": []
                },
            };
            if (type === "darktriad") {
                analyses = analysesDark;
                for (var trait in analysis) {
                    // on vérifie que le tableau contient bien quelque chose
                    if (analysis[trait] !== []) {
                        for (var word in analysis[trait]) {
                            var _word = analysis[trait][word][0]; // correspond au mot (chaine de caractère)
                            // console.log(`_word`, _word, `analysis`, analysis, `trait`, trait);
                            var wordScore = analysis[trait][word][3]; // le quatrième élément correspond à la valeur relative du mot
                            // si le score du mot est positif, ça veut dire que la darktriad est haute, donc c'est plutôt négatif. dans tous les cas on arrondi à 1 pour simplifier
                            if (wordScore > 0) {
                                analyses[trait].score--;
                                analyses[trait].negativeWords.push(_word);
                            }
                            else {
                                analyses[trait].score++;
                                analyses[trait].positiveWords.push(_word);
                            }
                        }
                    }
                }
            }
            else if (type === "bigfive") {
                analyses = analysesBigfive;
                for (var trait in analysis) {
                    // on regarde si le tableau n'est pas vide
                    if (analysis[trait].matches !== []) {
                        for (var i = 0; i < analysis[trait].matches.length; i++) {
                            var _word = analysis[trait].matches[i][0]; // correspond au mot (chaine de caractère)
                            var wordScore = analysis[trait].matches[i][3]; // le quatrième élément correspond à la valeur relative du mot
                            // si le score du mot est positif, ça veut dire que la darktriad est haute, donc c'est plutôt négatif. dans tous les cas on arrondi à 1 pour simplifier
                            if (wordScore > 0) {
                                analyses[trait].score--;
                                analyses[trait].negativeWords.push(_word);
                            }
                            else {
                                analyses[trait].score++;
                                analyses[trait].positiveWords.push(_word);
                            }
                        }
                    }
                }
            }
            // console.log(`analyses`, analyses);
            // on renvoie la score moyen, ainsi que les mots qui ont influencé globalement le score
            return analyses;
        };
        this.animateNegativeWords = function (words) {
            // console.log(`words:`);
            // console.log(words);
            var textArea = document.querySelector('#smsContent');
            for (var word in words) {
                var slicedWord = _this.sliceWord(words[word], "negative");
                // console.log(`slicedWord:`);
                // console.log(slicedWord);
                // console.log(`textarea.value: ${textArea.textContent}`);
                var toReplace = new RegExp("" + words[word], 'gi');
                textArea.innerHTML = (textArea.textContent).replace(toReplace, slicedWord);
            }
            var wordsToAnimate = document.querySelectorAll(".negative");
            if (wordsToAnimate !== undefined) {
                for (var singleWord in wordsToAnimate) {
                    var lettersToAnimate = wordsToAnimate[singleWord].querySelectorAll("span");
                    for (var letter in lettersToAnimate) {
                        var aLetter = lettersToAnimate[letter];
                        var randomValue = Math.floor(Math.random() * 3); // on a trois animations différentes
                        aLetter.style.animationName = "marionettes" + randomValue;
                    }
                }
            }
            // pour gérer les balises html dans contenteditable
            // https://stackoverflow.com/questions/41433796/html-elements-inside-contenteditable
            // const map = {amp: '&', lt: '<', gt: '>', quot: '"', '#039': "'"}
            // let html = textArea.innerHTML.replace(/&([^;]+);/g, (m, c) => map[c]);
            // textArea.innerHTML = html;
            // this.setEndOfContenteditable(textArea); // est sensé ramener le curseur à la fin de la ligne
        };
        this.setEndOfContenteditable = function (contentEditableElement) {
            var range, selection;
            range = document.createRange(); //Create a range (a range is a like the selection but invisible)
            range.selectNodeContents(contentEditableElement); //Select the entire contents of the element with the range
            range.collapse(false); //collapse the range to the end point. false means collapse to end rather than the start
            selection = window.getSelection(); //get the selection object (allows you to change selection)
            selection.removeAllRanges(); //remove any selections already made
            selection.addRange(range); //make the range you have just created the visible selection
        };
        this.colors = {
            "a5f31b": 8,
            "a4ed2b": 7,
            "a2e739": 6,
            "a1dc52": 5,
            "a1d16b": 4,
            "a1c087": 3,
            "a1b595": 2,
            "a1a69f": 1,
            "a39ba1": 0,
            "ae849b": -1,
            "b57794": -2,
            "c26185": -3,
            "cf4c74": -4,
            "db3863": -5,
            "e82551": -6,
            "f21542": -7,
            "fb0736": -8
        };
        this.tempSentences = ["", ""]; // on utilise cette variable pour optimiser l'usage de le fonction de traduction. On stocke la dernière phrase traduite dedans, et on checke ensuite chaque fois qu'une touche est pressée pour comparer et voir s'il y a un mot supplémentaire
        console.log("constructor WritingAnalysisService");
    }
    WritingAnalysisService.prototype.getSidebarNumber = function (score) {
        // le score est usuellement un nombre entre -8 et 8
        // comme les jauges sont numérotées de 0 à 16, on commence en soustrayant 8
        var value = score + 8;
        // ensuite, si les valeurs sont trop hautes ou trop basses, on égalise
        if (score > 8) {
            value = 8;
        }
        else if (score < -8) {
            value = -8;
        }
        return value;
    };
    WritingAnalysisService.prototype.sliceWord = function (word, elmtClass) {
        var tag = "<span class=\"" + elmtClass + "\">";
        for (var letter = 0; letter < word.length; letter++) {
            tag += "<span>" + word[letter] + "</span>"; // on ajoute chaque lettre entourée d'un span, comme ça on pourra les animer séparement
        }
        tag += "</span>";
        return tag;
    };
    WritingAnalysisService = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["A" /* Injectable */])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__textAnalysis_service__["a" /* TextAnalysisService */]])
    ], WritingAnalysisService);
    return WritingAnalysisService;
}());

//# sourceMappingURL=writingAnalysis.service.js.map

/***/ }),

/***/ 140:
/***/ (function(module, exports) {

function webpackEmptyAsyncContext(req) {
	// Here Promise.resolve().then() is used instead of new Promise() to prevent
	// uncatched exception popping up in devtools
	return Promise.resolve().then(function() {
		throw new Error("Cannot find module '" + req + "'.");
	});
}
webpackEmptyAsyncContext.keys = function() { return []; };
webpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;
module.exports = webpackEmptyAsyncContext;
webpackEmptyAsyncContext.id = 140;

/***/ }),

/***/ 181:
/***/ (function(module, exports, __webpack_require__) {

var map = {
	"../pages/dashboard/dashboard.module": [
		397,
		3
	],
	"../pages/messages/messages.module": [
		398,
		2
	],
	"../pages/settings/settings.module": [
		399,
		1
	],
	"../pages/writing/writing.module": [
		400,
		0
	]
};
function webpackAsyncContext(req) {
	var ids = map[req];
	if(!ids)
		return Promise.reject(new Error("Cannot find module '" + req + "'."));
	return __webpack_require__.e(ids[1]).then(function() {
		return __webpack_require__(ids[0]);
	});
};
webpackAsyncContext.keys = function webpackAsyncContextKeys() {
	return Object.keys(map);
};
webpackAsyncContext.id = 181;
module.exports = webpackAsyncContext;

/***/ }),

/***/ 240:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return TabsPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__stats_stats__ = __webpack_require__(241);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__dashboard_dashboard__ = __webpack_require__(127);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__messages_messages__ = __webpack_require__(128);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__writing_writing__ = __webpack_require__(130);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__settings_settings__ = __webpack_require__(129);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};






var TabsPage = /** @class */ (function () {
    function TabsPage() {
        this.dashboardPage = __WEBPACK_IMPORTED_MODULE_2__dashboard_dashboard__["a" /* DashboardPage */];
        this.messagesPage = __WEBPACK_IMPORTED_MODULE_3__messages_messages__["a" /* MessagesPage */];
        this.writingPage = __WEBPACK_IMPORTED_MODULE_4__writing_writing__["a" /* WritingPage */];
        this.statsPage = __WEBPACK_IMPORTED_MODULE_1__stats_stats__["a" /* StatsPage */];
        this.settingsPage = __WEBPACK_IMPORTED_MODULE_5__settings_settings__["a" /* SettingsPage */];
    }
    TabsPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["m" /* Component */])({
            selector: 'page-tabs',template:/*ion-inline-start:"H:\WebstormProjects\jouska-v2\src\pages\tabs\tabs.html"*/'<ion-tabs [selectedIndex]="2">\n  <ion-tab [root]="dashboardPage" tabTitle="Dashboard" tabIcon="home"></ion-tab>\n  <ion-tab [root]="messagesPage" tabTitle="Messages" tabIcon="chatbubbles"></ion-tab>\n  <ion-tab [root]="writingPage" tabTitle="Ecrire" tabIcon="create"></ion-tab>\n  <ion-tab [root]="statsPage" tabTitle="Statistiques" tabIcon="analytics"></ion-tab>\n  <ion-tab [root]="settingsPage" tabTitle="Paramètres" tabIcon="settings"></ion-tab>\n</ion-tabs>\n'/*ion-inline-end:"H:\WebstormProjects\jouska-v2\src\pages\tabs\tabs.html"*/
        })
    ], TabsPage);
    return TabsPage;
}());

//# sourceMappingURL=tabs.js.map

/***/ }),

/***/ 241:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return StatsPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(24);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__single_contact_stats_single_contact_stats__ = __webpack_require__(242);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__services_textAnalysis_service__ = __webpack_require__(66);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var StatsPage = /** @class */ (function () {
    function StatsPage(navCtrl, textAnalysisService) {
        this.navCtrl = navCtrl;
        this.textAnalysisService = textAnalysisService;
        this.contactList = [
            {
                name: 'Pauline',
                description: [
                    '0635527684',
                    'France',
                    'Contacté occasionnellement',
                ]
            },
            {
                name: 'Maman',
                description: [
                    '0685947852',
                    'France',
                    'Contacté fréquemment',
                ]
            },
            {
                name: 'Justine',
                description: [
                    '0602859632',
                    'Suisse',
                    'Contacté rarement',
                ]
            }
        ];
        var myVar = this.textAnalysisService.selfishnessAnalysis('tu vas bien?');
        console.log(myVar);
    }
    StatsPage.prototype.onLoadContactStats = function (contactInfos) {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_2__single_contact_stats_single_contact_stats__["a" /* SingleContactStatsPage */], { contactInfos: contactInfos });
    };
    StatsPage.prototype.ngOnInit = function () {
    };
    StatsPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["m" /* Component */])({
            selector: 'page-stats',template:/*ion-inline-start:"H:\WebstormProjects\jouska-v2\src\pages\stats\stats.html"*/'<ion-header>\n  <ion-navbar>\n    <ion-title>Statistiques</ion-title>\n  </ion-navbar>\n</ion-header>\n\n<ion-content padding>\n  <ion-list>\n    <button ion-item\n            *ngFor="let contact of contactList"\n            (click)="onLoadContactStats(contact)">\n      {{ contact.name }}\n    </button>\n  </ion-list>\n</ion-content>\n\n<!--<ion-footer padding>-->\n  <!--<p>C\'est le bas de page</p>-->\n<!--</ion-footer>-->\n'/*ion-inline-end:"H:\WebstormProjects\jouska-v2\src\pages\stats\stats.html"*/
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["e" /* NavController */],
            __WEBPACK_IMPORTED_MODULE_3__services_textAnalysis_service__["a" /* TextAnalysisService */]])
    ], StatsPage);
    return StatsPage;
}());

//# sourceMappingURL=stats.js.map

/***/ }),

/***/ 242:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SingleContactStatsPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(24);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


/**
 * Generated class for the SingleContactStatsPage page.
 *
 * See https://ionicframework.com/docs/components/#navigation for more info on
 * Ionic pages and navigation.
 */
var SingleContactStatsPage = /** @class */ (function () {
    function SingleContactStatsPage(navParams) {
        this.navParams = navParams;
    }
    SingleContactStatsPage.prototype.ngOnInit = function () {
        this.contactInfos = this.navParams.get('contactInfos');
    };
    SingleContactStatsPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["m" /* Component */])({
            selector: 'page-single-contact-stats',template:/*ion-inline-start:"H:\WebstormProjects\jouska-v2\src\pages\stats\single-contact-stats\single-contact-stats.html"*/'<ion-header>\n\n  <ion-navbar>\n    <ion-title>{{ name }}</ion-title>\n  </ion-navbar>\n\n</ion-header>\n\n\n<ion-content padding>\n  <ion-card>\n    <ion-card-header>{{ contactInfos.name }}</ion-card-header>\n    <ion-card-content>\n      <p *ngFor="let line of contactInfos.description">{{ line }}</p>\n    </ion-card-content>\n  </ion-card>\n</ion-content>\n'/*ion-inline-end:"H:\WebstormProjects\jouska-v2\src\pages\stats\single-contact-stats\single-contact-stats.html"*/,
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["f" /* NavParams */]])
    ], SingleContactStatsPage);
    return SingleContactStatsPage;
}());

//# sourceMappingURL=single-contact-stats.js.map

/***/ }),

/***/ 243:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_platform_browser_dynamic__ = __webpack_require__(244);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__app_module__ = __webpack_require__(266);


Object(__WEBPACK_IMPORTED_MODULE_0__angular_platform_browser_dynamic__["a" /* platformBrowserDynamic */])().bootstrapModule(__WEBPACK_IMPORTED_MODULE_1__app_module__["a" /* AppModule */]);
//# sourceMappingURL=main.js.map

/***/ }),

/***/ 266:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AppModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_platform_browser__ = __webpack_require__(36);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_ionic_angular__ = __webpack_require__(24);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__ionic_native_splash_screen__ = __webpack_require__(236);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__ionic_native_status_bar__ = __webpack_require__(239);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__app_component__ = __webpack_require__(396);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__pages_stats_stats__ = __webpack_require__(241);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__pages_stats_single_contact_stats_single_contact_stats__ = __webpack_require__(242);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__pages_settings_settings__ = __webpack_require__(129);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__pages_tabs_tabs__ = __webpack_require__(240);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__pages_messages_messages__ = __webpack_require__(128);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__pages_writing_writing__ = __webpack_require__(130);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__pages_dashboard_dashboard__ = __webpack_require__(127);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__services_textAnalysis_service__ = __webpack_require__(66);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__services_writingAnalysis_service__ = __webpack_require__(131);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};















var AppModule = /** @class */ (function () {
    function AppModule() {
    }
    AppModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_1__angular_core__["I" /* NgModule */])({
            declarations: [
                __WEBPACK_IMPORTED_MODULE_5__app_component__["a" /* MyApp */],
                __WEBPACK_IMPORTED_MODULE_12__pages_dashboard_dashboard__["a" /* DashboardPage */],
                __WEBPACK_IMPORTED_MODULE_10__pages_messages_messages__["a" /* MessagesPage */],
                __WEBPACK_IMPORTED_MODULE_11__pages_writing_writing__["a" /* WritingPage */],
                __WEBPACK_IMPORTED_MODULE_6__pages_stats_stats__["a" /* StatsPage */],
                __WEBPACK_IMPORTED_MODULE_7__pages_stats_single_contact_stats_single_contact_stats__["a" /* SingleContactStatsPage */],
                __WEBPACK_IMPORTED_MODULE_8__pages_settings_settings__["a" /* SettingsPage */],
                __WEBPACK_IMPORTED_MODULE_9__pages_tabs_tabs__["a" /* TabsPage */]
            ],
            imports: [
                __WEBPACK_IMPORTED_MODULE_0__angular_platform_browser__["a" /* BrowserModule */],
                __WEBPACK_IMPORTED_MODULE_2_ionic_angular__["c" /* IonicModule */].forRoot(__WEBPACK_IMPORTED_MODULE_5__app_component__["a" /* MyApp */], {}, {
                    links: [
                        { loadChildren: '../pages/dashboard/dashboard.module#DashboardPageModule', name: 'DashboardPage', segment: 'dashboard', priority: 'low', defaultHistory: [] },
                        { loadChildren: '../pages/messages/messages.module#MessagesPageModule', name: 'MessagesPage', segment: 'messages', priority: 'low', defaultHistory: [] },
                        { loadChildren: '../pages/settings/settings.module#SettingsPageModule', name: 'SettingsPage', segment: 'settings', priority: 'low', defaultHistory: [] },
                        { loadChildren: '../pages/writing/writing.module#WritingPageModule', name: 'WritingPage', segment: 'writing', priority: 'low', defaultHistory: [] }
                    ]
                })
            ],
            bootstrap: [__WEBPACK_IMPORTED_MODULE_2_ionic_angular__["a" /* IonicApp */]],
            entryComponents: [
                __WEBPACK_IMPORTED_MODULE_5__app_component__["a" /* MyApp */],
                __WEBPACK_IMPORTED_MODULE_12__pages_dashboard_dashboard__["a" /* DashboardPage */],
                __WEBPACK_IMPORTED_MODULE_10__pages_messages_messages__["a" /* MessagesPage */],
                __WEBPACK_IMPORTED_MODULE_11__pages_writing_writing__["a" /* WritingPage */],
                __WEBPACK_IMPORTED_MODULE_6__pages_stats_stats__["a" /* StatsPage */],
                __WEBPACK_IMPORTED_MODULE_7__pages_stats_single_contact_stats_single_contact_stats__["a" /* SingleContactStatsPage */],
                __WEBPACK_IMPORTED_MODULE_8__pages_settings_settings__["a" /* SettingsPage */],
                __WEBPACK_IMPORTED_MODULE_9__pages_tabs_tabs__["a" /* TabsPage */]
            ],
            providers: [
                __WEBPACK_IMPORTED_MODULE_4__ionic_native_status_bar__["a" /* StatusBar */],
                __WEBPACK_IMPORTED_MODULE_3__ionic_native_splash_screen__["a" /* SplashScreen */],
                __WEBPACK_IMPORTED_MODULE_13__services_textAnalysis_service__["a" /* TextAnalysisService */],
                __WEBPACK_IMPORTED_MODULE_14__services_writingAnalysis_service__["a" /* WritingAnalysisService */],
                { provide: __WEBPACK_IMPORTED_MODULE_1__angular_core__["u" /* ErrorHandler */], useClass: __WEBPACK_IMPORTED_MODULE_2_ionic_angular__["b" /* IonicErrorHandler */] }
            ]
        })
    ], AppModule);
    return AppModule;
}());

//# sourceMappingURL=app.module.js.map

/***/ }),

/***/ 324:
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 326:
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 365:
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 366:
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ 368:
/***/ (function(module, exports) {

function webpackEmptyContext(req) {
	throw new Error("Cannot find module '" + req + "'.");
}
webpackEmptyContext.keys = function() { return []; };
webpackEmptyContext.resolve = webpackEmptyContext;
module.exports = webpackEmptyContext;
webpackEmptyContext.id = 368;

/***/ }),

/***/ 396:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MyApp; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(24);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__ionic_native_status_bar__ = __webpack_require__(239);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__ionic_native_splash_screen__ = __webpack_require__(236);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__pages_tabs_tabs__ = __webpack_require__(240);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





// import {StatsPage} from "../pages/stats/stats";
var MyApp = /** @class */ (function () {
    function MyApp(platform, statusBar, splashScreen) {
        this.rootPage = __WEBPACK_IMPORTED_MODULE_4__pages_tabs_tabs__["a" /* TabsPage */];
        platform.ready().then(function () {
            // Okay, so the platform is ready and our plugins are available.
            // Here you can do any higher level native things you might need.
            statusBar.styleDefault();
            splashScreen.hide();
        });
    }
    MyApp = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["m" /* Component */])({template:/*ion-inline-start:"H:\WebstormProjects\jouska-v2\src\app\app.html"*/'<ion-nav [root]="rootPage"></ion-nav>\n'/*ion-inline-end:"H:\WebstormProjects\jouska-v2\src\app\app.html"*/
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["g" /* Platform */], __WEBPACK_IMPORTED_MODULE_2__ionic_native_status_bar__["a" /* StatusBar */], __WEBPACK_IMPORTED_MODULE_3__ionic_native_splash_screen__["a" /* SplashScreen */]])
    ], MyApp);
    return MyApp;
}());

//# sourceMappingURL=app.component.js.map

/***/ }),

/***/ 66:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return TextAnalysisService; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_node_sentiment_jouska__ = __webpack_require__(292);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_node_sentiment_jouska___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_node_sentiment_jouska__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_darktriad__ = __webpack_require__(299);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_darktriad___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_darktriad__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_bigfive__ = __webpack_require__(306);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_bigfive___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_bigfive__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_predictgender__ = __webpack_require__(308);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_predictgender___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_predictgender__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_prospectimo__ = __webpack_require__(310);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_prospectimo___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_prospectimo__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_selfishness_analysis__ = __webpack_require__(312);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_selfishness_analysis___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_selfishness_analysis__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_translate__ = __webpack_require__(314);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_translate___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_translate__);







var TextAnalysisService = /** @class */ (function () {
    function TextAnalysisService() {
        this.translateToEnglish = function (sentence) {
            return new Promise(function (resolve, reject) {
                var text = "";
                __WEBPACK_IMPORTED_MODULE_6_translate__(sentence, { to: 'en' })
                    .then(function (translatedText) {
                    // console.log(`translatedText: ${translatedText}`);
                    text = translatedText;
                    if (translatedText.indexOf('&#39;') !== -1) {
                        text = translatedText.replace('&#39;', "'");
                    }
                    console.log("text: " + text);
                    resolve(text);
                }).catch(function (error) { return reject(error); });
                // return text;
            });
        };
    }
    TextAnalysisService.extractClauses = function (sentence) {
        // on sépare les différentes phrases ou propositions (clauses) du SMS reçu
        // ça permet d'avoir de bien meilleurs résultats pour l'analyse de sentiment
        // car dès qu'il y a une négation, la valence de tous les mots est inversée
        // ---------------
        // Par exemple :
        // sentiment(`My husband is not nice, but I still love him`); // -6, because 2 positive words and negation = true
        // sentiment(`My husband is not nice,`); // -3, because 1 positive word and negation = true
        // sentiment(`but I still love him`); // 3, because 1 positive word and negation = false
        var sentenceToSlice = sentence;
        var separators = new RegExp(/[.?!,]\s| et | and /, 'gim'); // les séparateurs sont la ponctuation basique et le mot et/and
        var array; //  c'est le tableau qui récupère les résultats de la fonction exec
        var subSentences = []; // on stocke les "sous-phrases" là dedans
        while ((array = separators.exec(sentenceToSlice)) !== null) {
            var subSentence = sentenceToSlice.slice(0, array.index);
            subSentences.push(subSentence);
            sentenceToSlice = sentenceToSlice.replace(subSentence, '');
        }
        if (subSentences.length > 1) {
            return subSentences;
        }
        else {
            return sentence; // sinon, on renvoie la phrase originale
        }
    };
    TextAnalysisService.prototype.updateSentimentAnalysis = function () {
        var smsData = JSON.parse(localStorage.getItem('smsData'));
        for (var contact in smsData) {
            for (var type in smsData[contact]) {
                if (type !== 'name') {
                    for (var singleSMS in smsData[contact][type]) {
                        var originalSMS = smsData[contact][type][singleSMS].text.original;
                        smsData[contact][type][singleSMS].analysis.sentimentFr = {};
                        smsData[contact][type][singleSMS].analysis.sentimentFr = this.sentimentAnalysis(originalSMS, 'fr');
                    }
                }
            }
        }
        console.log("anlayse que je refais:");
        console.log(smsData);
    };
    TextAnalysisService.prototype.sentimentAnalysis = function (textMessage, language, originalMessage) {
        if (language === void 0) { language = 'en'; }
        if (originalMessage === void 0) { originalMessage = textMessage; }
        var message = TextAnalysisService.extractClauses(textMessage);
        if (Array.isArray(message)) {
            var analysis = []; // on crée un tableau pour stocker les analyses
            for (var clause in message) {
                analysis.push(__WEBPACK_IMPORTED_MODULE_0_node_sentiment_jouska__(message[clause], language, originalMessage));
            }
            return analysis; // on retourne le tableau
        }
        else {
            return __WEBPACK_IMPORTED_MODULE_0_node_sentiment_jouska__(message, language, originalMessage);
        }
    };
    TextAnalysisService.prototype.darktriadAnalysis = function (textMessage, opts) {
        if (opts === void 0) { opts = { "output": "matches" }; }
        return __WEBPACK_IMPORTED_MODULE_1_darktriad__(textMessage, opts);
    };
    TextAnalysisService.prototype.personalityAnalysis = function (textMessage, opts) {
        if (opts === void 0) { opts = { "output": "matches" }; }
        return __WEBPACK_IMPORTED_MODULE_2_bigfive__(textMessage, opts);
    };
    TextAnalysisService.prototype.genderPrediction = function (textMessage, language) {
        if (language === void 0) { language = 'en'; }
        return __WEBPACK_IMPORTED_MODULE_3_predictgender__(textMessage);
    };
    TextAnalysisService.prototype.temporalOrientationPrediction = function (textMessage, language) {
        if (language === void 0) { language = 'en'; }
        return __WEBPACK_IMPORTED_MODULE_4_prospectimo__(textMessage);
    };
    TextAnalysisService.prototype.selfishnessAnalysis = function (textMessage, language) {
        if (language === void 0) { language = 'fr'; }
        return __WEBPACK_IMPORTED_MODULE_5_selfishness_analysis__(textMessage, language); // pour l'instant on le fait juste en français
    };
    return TextAnalysisService;
}());

//# sourceMappingURL=textAnalysis.service.js.map

/***/ })

},[243]);
//# sourceMappingURL=main.js.map